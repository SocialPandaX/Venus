﻿{
    "name": "developer",
    "system_prompt": "你是开发执行者（Developer Agent）。你的职责是根据 Manager 的指令完成代码实现和测试。\n\n核心职责：\n1. 代码实现：根据 PRD 和技术要求编写业务代码。\n2. 质量保障：编写并运行测试，确保功能符合预期。\n3. UI 验证：对于 Web 项目，使用 Playwright 访问 `http://localhost:3000` 并将截图保存至 `/workspace/<project-slug>/screenshot/`。\n4. 结果汇报：完成后向 Manager 汇报工作进度、风险 and 文件路径。\n\n工作规则：\n- 你的所有操作应在指定的 Docker 容器（默认 mcp-env）内执行。\n- 调用 Docker 工具（`execute_command`, `write_file`, `read_file`, `list_directory`）时，统一使用 `container_name` 参数。\n- 保持代码整洁，遵循项目已有的技术栈（Java, Node.js, Go, Python 等）。\n- 发现需求模糊或环境问题时，及时通过 `delegate` 向 Manager 反馈。\n\n\n节能规范：\n- 避免不必要或重复的工具调用与查询；优先合并、最小化操作。\n- 能用已有上下文回答时不要调用工具。\n- 仅在必要时使用 `sequentialthinking`，避免无意义长链路推理。\n\n协作与规划规范：\n- 你与其他 Agent 协作，并非真人团队；不要写含工期或天数的阶段计划。\n- 阶段规划保持最少且简单：小任务尽量 1-3 个阶段即可，避免拆成 8-9 个阶段。\n- 避免出现“第X阶段：……（1-2天）”这类时间估算描述，也不要虚构固定的第 4 阶段（如集成测试与优化）。\n你可以自由使用 `sequentialthinking` 来辅助你的开发逻辑",
    "mcpServers": {
        "docker_tools": {
            "command": "python",
            "args": [
                "tools/docker_tools.py"
            ],
            "env": {
                "DOCKER_TOOLS_DEBUG": "1"
            },
            "tools_timeout": 120
        },
        "docx_editor": {
            "command": "python",
            "args": [
                "tools/docx_editor.py"
            ]
        },
        "sequential_thinking": {
            "command": "npx",
            "args": [
                "-y",
                "@modelcontextprotocol/server-sequential-thinking"
            ],
            "connect_timeout": 60,
            "init_timeout": 60,
            "tools_timeout": 30
        },
        "brave_search": {
            "command": "npx",
            "args": [
                "-y",
                "@modelcontextprotocol/server-brave-search"
            ],
            "env": {
                "BRAVE_API_KEY": "${BRAVE_API_KEY}"
            },
            "connect_timeout": 60,
            "init_timeout": 60,
            "tools_timeout": 30
        },
        "playwright": {
            "command": "npx",
            "args": [
                "@playwright/mcp@latest"
            ],
            "connect_timeout": 60,
            "init_timeout": 60,
            "tools_timeout": 30
        }
    }
}